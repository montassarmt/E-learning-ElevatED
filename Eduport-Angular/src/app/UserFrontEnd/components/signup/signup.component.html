<section class="p-0 d-flex align-items-center position-relative overflow-hidden">
  <div class="container-fluid">
    <div class="row">
      <!-- Left Side (Welcome Section) -->
      <div class="col-12 col-lg-6 d-md-flex align-items-center justify-content-center bg-primary bg-opacity-10 vh-lg-100">
        <div class="p-3 p-lg-5">
          <div class="text-center">
            <h2 class="fw-bold">Welcome to our largest community</h2>
            <p class="mb-0 h6 fw-light">Let's learn something new today!</p>
          </div>
          <img src="assets/images/element/02.svg" class="mt-5" alt="" />
          <div class="d-sm-flex mt-5 align-items-center justify-content-center">
            <ul class="avatar-group mb-2 mb-sm-0">
              <li class="avatar avatar-sm">
                <img class="avatar-img rounded-circle" src="assets/images/avatar/01.jpg" alt="avatar" />
              </li>
              <li class="avatar avatar-sm">
                <img class="avatar-img rounded-circle" src="assets/images/avatar/02.jpg" alt="avatar" />
              </li>
              <li class="avatar avatar-sm">
                <img class="avatar-img rounded-circle" src="assets/images/avatar/03.jpg" alt="avatar" />
              </li>
              <li class="avatar avatar-sm">
                <img class="avatar-img rounded-circle" src="assets/images/avatar/04.jpg" alt="avatar" />
              </li>
            </ul>
            <p class="mb-0 h6 fw-light ms-0 ms-sm-3">4k+ Students joined us, now it's your turn.</p>
          </div>
        </div>
      </div>

      <!-- Right Side (Signup Form) -->
      <div class="col-12 col-lg-6 m-auto">
        <div class="col-sm-10 col-xl-8 m-auto">
          <span class="mb-0 fs-1">ðŸ‘‹</span>
          <h1 class="fs-2">Sign up to Eduport!</h1>
          <p class="lead mb-4">Nice to see you! Please create your account.</p>

          <!-- Error Message if Passwords Do Not Match -->
          <div *ngIf="submitted && signupForm.errors?.['passwordMismatch']" class="alert alert-danger">
            Passwords do not match. Please check your input.
          </div>

          <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
            <!-- Username Field -->
            <div class="mb-4">
              <label for="inputUsername" class="form-label">Username *</label>
              <div class="input-group input-group-lg">
                <span class="input-group-text bg-light rounded-start border-0 text-secondary px-3">
                  <i class="bi bi-person-fill"></i>
                </span>
                <input
                  type="text"
                  formControlName="username"
                  class="form-control border-0 bg-light rounded-end ps-1"
                  [ngClass]="{ 'is-invalid': form['username'].touched && form['username'].errors }"
                  placeholder="Username"
                  id="inputUsername"
                />
              </div>
              <div *ngIf="form['username'].touched && form['username'].errors" class="invalid-feedback">
                <div *ngIf="form['username'].errors['required']">Username is required.</div>
              </div>
            </div>

            <!-- Email Field -->
            <div class="mb-4">
              <label for="inputEmail" class="form-label">Email *</label>
              <div class="input-group input-group-lg">
                <span class="input-group-text bg-light rounded-start border-0 text-secondary px-3">
                  <i class="bi bi-envelope-fill"></i>
                </span>
                <input
                  type="email"
                  formControlName="email"
                  class="form-control border-0 bg-light rounded-end ps-1"
                  [ngClass]="{ 'is-invalid': form['email'].touched && form['email'].errors }"
                  placeholder="E-mail"
                  id="inputEmail"
                />
              </div>
              <div *ngIf="form['email'].touched && form['email'].errors" class="invalid-feedback">
                <div *ngIf="form['email'].errors['required']">Email is required.</div>
                <div *ngIf="form['email'].errors['email']">Please enter a valid email address.</div>
              </div>
            </div>

            <!-- Password Field -->
            <div class="mb-4">
              <label for="inputPassword" class="form-label">Password *</label>
              <div class="input-group input-group-lg">
                <span class="input-group-text bg-light rounded-start border-0 text-secondary px-3">
                  <i class="fas fa-lock"></i>
                </span>
                <input
                  type="password"
                  formControlName="password"
                  class="form-control border-0 bg-light rounded-end ps-1"
                  [ngClass]="{ 'is-invalid': form['password'].touched && form['password'].errors }"
                  placeholder="Password"
                  id="inputPassword"
                />
              </div>
              <div *ngIf="form['password'].touched && form['password'].errors" class="invalid-feedback">
                <div *ngIf="form['password'].errors['required']">Password is required.</div>
                <div *ngIf="form['password'].errors['minlength']">Password must be at least 8 characters long.</div>
              </div>
            </div>

            <!-- Confirm Password Field -->
            <div class="mb-4">
              <label for="inputConfirmPassword" class="form-label">Confirm Password *</label>
              <div class="input-group input-group-lg">
                <span class="input-group-text bg-light rounded-start border-0 text-secondary px-3">
                  <i class="fas fa-lock"></i>
                </span>
                <input
                  type="password"
                  formControlName="confirmpassword"
                  class="form-control border-0 bg-light rounded-end ps-1"
                  [ngClass]="{ 'is-invalid': form['confirmpassword'].touched && form['confirmpassword'].errors }"
                  placeholder="Confirm Password"
                  id="inputConfirmPassword"
                />
              </div>
              <div *ngIf="form['confirmpassword'].touched && form['confirmpassword'].errors" class="invalid-feedback">
                <div *ngIf="form['confirmpassword'].errors['required']">Confirm Password is required.</div>
                <div *ngIf="form['confirmpassword'].errors['minlength']">Confirm Password must be at least 8 characters long.</div>
                <div *ngIf="signupForm.errors?.['passwordMismatch'] && form['confirmpassword'].touched">
                  Passwords do not match.
                </div>
              </div>
            </div>

            <!-- Role Selection -->
            <div class="mb-4 d-flex justify-content-between">
              <div class="form-check">
                <input
                  type="radio"
                  class="form-check-input"
                  id="student"
                  formControlName="role"
                  value="STUDENT"
                />
                <label class="form-check-label" for="student">Student</label>
              </div>
              <div class="form-check">
                <input
                  type="radio"
                  class="form-check-input"
                  id="tutor"
                  formControlName="role"
                  value="TUTOR"
                />
                <label class="form-check-label" for="tutor">Tutor</label>
              </div>
              <div class="form-check">
                <input
                  type="radio"
                  class="form-check-input"
                  id="partner"
                  formControlName="role"
                  value="PARTNER"
                />
                <label class="form-check-label" for="partner">Partner</label>
              </div>
            </div>

            <!-- Specialty Field (Conditional) -->
            <div *ngIf="signupForm.get('role')?.value === 'TUTOR'" class="mb-3">
              <label for="tutorSpecialty">Select specialty:</label>
              <select
                id="tutorSpecialty"
                class="form-select"
                formControlName="spcialite"
                [ngClass]="{ 'is-invalid': form['spcialite'].touched && form['spcialite'].errors }"
              >
                <option value="" disabled selected>Select a specialty</option>
                <option *ngFor="let spcialite of spcialites" [value]="spcialite">{{ spcialite }}</option>
              </select>
              <div *ngIf="form['spcialite'].touched && form['spcialite'].errors" class="invalid-feedback">
                <div *ngIf="form['spcialite'].errors['required']">Specialty is required.</div>
              </div>
            </div>

            <!-- Submit Button -->
            <div class="align-items-center mt-0">
              <div class="d-grid">
                <button class="btn btn-primary mb-0" type="submit">Register</button>
              </div>
            </div>
          </form>

          <!-- Social Login Buttons -->
          <div class="row">
            <div class="position-relative my-4">
              <hr />
              <p class="small position-absolute top-50 start-50 translate-middle bg-body px-5">Or</p>
            </div>
            <div class="col-xxl-6 d-grid">
              <a href="javascript:void(0);" class="btn bg-google mb-2 mb-xxl-0">
                <i class="fab fa-fw fa-google text-white me-2"></i>Login with Google
              </a>
            </div>
            <div class="col-xxl-6 d-grid">
              <a href="javascript:void(0);" class="btn bg-facebook mb-0">
                <i class="fab fa-fw fa-facebook-f me-2"></i>Login with Facebook
              </a>
            </div>
          </div>

          <!-- Signup Link -->
          <div class="mt-4 text-center">
            <span>Already have an account? <a routerLink="/login">Login here</a></span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>