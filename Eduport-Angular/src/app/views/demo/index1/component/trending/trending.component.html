<ng-tiny-slider *ngIf="sliderReady" [config]="SliderSetting" class="tiny-slider-inner pb-1">
    <div *ngFor="let hackathon of upcomingHackathons">
        <div>
            <div class="card shadow-sm border rounded-4" style="width: 300px; margin: auto; max-height: 310px;">

                <!-- ✅ Image -->
                <div class="position-relative">
                    <img [src]="getHackathonImage(hackathon.nom)"
                         (error)="onImageError($event)"
                         class="card-img-top"
                         alt="Hackathon image"
                         style="height: 160px; width: 100%; object-fit: cover; border-top-left-radius: 1rem; border-top-right-radius: 1rem; display: block;" />

                </div>
                <div class="card-body d-flex flex-column" style="height: 220px;">

                    <h5 class="card-title mb-1">
                        <a href="javascript:void(0);" style="text-decoration: none; ">
                            {{ hackathon.nom }}
                        </a>
                    </h5>

                    <p class="mb-0" style="
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    color: #6c757d;
    min-height: 40px;
  ">
                        {{ hackathon.description }}
                    </p>

                    <!-- ✅ Badge en bas -->
                    <div class="w-100 mt-auto">
                        <a href="javascript:void(0);" class="badge text-bg-white fs-6 rounded-1 d-inline-block text-truncate"
                           style="display: block; max-width: 100%; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">
                            <i class="far fa-calendar-alt text-orange me-2"></i>
                            {{ hackathon.dateDebut | date:'short' }} - {{ hackathon.dateFin | date:'short' }}
                        </a>
                    </div>
                    <!-- Ajoute dans ton fichier de la section TrendingComponent -->
                    <button
                            (click)="toggleParticipation(hackathon)"
                            [disabled]="isPast(hackathon) || isParticipating(hackathon)"
                            class="btn"
                            [class.btn-secondary]="isPast(hackathon)"
                            [class.btn-primary]="!isPast(hackathon) && !isParticipating(hackathon)">
                        {{ isPast(hackathon) ? 'Clôturé' : (isParticipating(hackathon) ? 'Déjà inscrit' : 'Participer') }}
                    </button>





                </div>

            </div>
        </div>
    </div>
</ng-tiny-slider>
